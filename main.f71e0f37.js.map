{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","tbody","itemsThead","children","itemsTbody","selectedElement","prevElement","item","addTableEdite","className","listHead","thHead","querySelectorAll","tempArr","indexHead","prevItem","i","length","push","innerHTML","toNumber","string","Number","replace","addEventListener","e","target","unit","lastIndexOf","column","list","columnArr","localeCompare","sort","a","b","append","preventDefault","closest","form","createElement","pushNotification","title","description","type","message","setAttribute","classList","add","style","top","right","body","setTimeout","remove","td","itemValue","textContent","input","value","width","window","getComputedStyle","editTableCell","ev","code","cell","cellValue","insertAdjacentHTML","data","FormData","salary","get","toLocaleString","age","formCheck","ageWorker","nameWorker","positionWorker","salaryWorker","reset"],"mappings":"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","file":"main.f71e0f37.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst itemsThead = { ...thead.children };\nconst itemsTbody = { ...tbody.children };\nlet selectedElement = null;\nlet prevElement = '';\n\naddTableEdite();\n\nfor (const item in itemsThead) {\n  itemsThead[item].className = 'head';\n}\n\nconst listHead = document.querySelector('.head');\nconst thHead = listHead.querySelectorAll('th');\nconst tempArr = [];\nlet indexHead = 0;\nlet prevItem = '';\n\nfor (let i = 0; i < [...thHead].length; i++) {\n  tempArr.push([...thHead][i].innerHTML);\n}\n\nlistHead.addEventListener('click', (e) => {\n  const item = e.target;\n\n  indexHead = tempArr.lastIndexOf(item.innerHTML);\n\n  for (const unit in itemsTbody) {\n    itemsTbody[unit].className = (itemsTbody[unit]\n      .children[+indexHead].innerHTML);\n  }\n\n  const column = tbody.querySelectorAll('tr');\n  const columnArr = [...column];\n\n  function sortColumn(list) {\n    if (item.innerHTML.localeCompare(prevItem) === 0) {\n      if (toNumber(list[0].className) === 0) {\n        list.sort((a, b) => b.className.localeCompare(a.className));\n      } else {\n        list.sort((a, b) => toNumber(b.className) - toNumber(a.className));\n      }\n      prevItem = '';\n    } else {\n      if (toNumber(list[0].className) === 0) {\n        list.sort((a, b) => a.className.localeCompare(b.className));\n      } else {\n        list.sort((a, b) => toNumber(a.className) - toNumber(b.className));\n      }\n      prevItem = item.innerHTML;\n    }\n\n    tbody.append(...list);\n  }\n  sortColumn(columnArr);\n});\n\nfunction toNumber(string) {\n  return Number(string.replace(/\\D/g, ''));\n};\n\ntbody.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  if (selectedElement) {\n    selectedElement.className = prevElement;\n  }\n  selectedElement = e.target.closest('tr');\n  prevElement = selectedElement.className;\n  selectedElement.className = 'active';\n});\n\nconst form = document.createElement('form');\n\ndocument.body.append(form);\n\nform.className = `new-employee-form`;\n\nform.insertAdjacentHTML('afterbegin', `\n  <label>Name:\n    <input\n      name=\"name\"\n      data-qa=\"name\"\n      type=\"text\"\n      required\n      minlength=\"4\"\n    >\n  </label>\n\n  <label>Position:\n    <input\n      name=\"position\"\n      data-qa=\"position\"\n      type=\"text\n      required\"\n    >\n  </label>\n\n  <label>Office:\n    <select\n      name=\"office\"\n      data-qa=\"office\"\n    >\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age:\n    <input\n      name=\"age\"\n      data-qa=\"age\"\n      type=\"text\"\n      required\n    >\n  </label>\n\n  <label>Salary:\n    <input\n      name=\"salary\"\n      data-qa=\"salary\"\n      type=\"text\"\n      required\n    >\n  </label>\n\n  <button\n    class=\"button\"\n    type=\"submit\"\n  >\n    Save to table\n  </button>\n`);\n\nform.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n\n  const data = new FormData(form);\n\n  const salary = `$${(+data.get('salary')).toLocaleString()}`;\n  const age = +`${toNumber(data.get('age'))}`;\n  const formCheckResult = formCheck(\n    `${age}`,\n    `${data.get('name')}`,\n    `${data.get('position')}`,\n    `${toNumber(salary)}`\n  );\n\n  if (!formCheckResult) {\n    return;\n  }\n\n  tbody.insertAdjacentHTML('beforeend', `\n    <tr>\n      <td>${data.get('name')}</td>\n      <td>${data.get('position')}</td>\n      <td>${data.get('office')}</td>\n      <td>${age}</td>\n      <td>${salary}</td>\n    </tr>\n  `);\n\n  function formCheck(ageWorker, nameWorker, positionWorker, salaryWorker) {\n    if (nameWorker.length < 4) {\n      pushNotification('Error',\n        'the name should be atlist 4 characters', 'error');\n\n      return false;\n    }\n\n    if (positionWorker.length < 4) {\n      pushNotification('Error',\n        'the position should be atlist 4 characters', 'error');\n\n      return false;\n    }\n\n    if (+ageWorker < 18) {\n      pushNotification('Error',\n        'the age should not be less than 18', 'error');\n\n      return false;\n    }\n\n    if (+ageWorker > 90) {\n      pushNotification('Error',\n        'the age should not be more than 90', 'error');\n\n      return false;\n    }\n\n    if (+salaryWorker < 50000) {\n      pushNotification('Error!',\n        'Employee\\'s salary must be greater than $50,000!', 'error');\n\n      return false;\n    }\n\n    pushNotification('Succes',\n      'new employee added to the table', 'success');\n\n    return true;\n  }\n\n  form.reset();\n});\n\nfunction pushNotification(title, description, type) {\n  const message = document.createElement('div');\n\n  message.setAttribute('data-qa', 'notification');\n  message.classList.add('notification');\n  message.classList.add(type);\n  message.style.top = '420px';\n  message.style.right = '350px';\n\n  message.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n    `;\n\n  document.body.append(message);\n\n  setTimeout(() => message.remove(), 2000);\n}\n\nfunction addTableEdite() {\n  tbody.addEventListener('dblclick', (e) => {\n    const td = e.target;\n    const itemValue = td.textContent;\n    const input = document.createElement('input');\n\n    input.className = `cell-input`;\n    input.value = itemValue;\n    input.style.width = window.getComputedStyle(td).width;\n\n    td.textContent = '';\n    td.append(input);\n\n    input.addEventListener('blur', () => {\n      editTableCell(td, input, itemValue);\n      input.remove();\n    });\n\n    input.addEventListener('keydown', (ev) => {\n      if (ev.code === 'Enter') {\n        editTableCell(td, input, itemValue);\n        input.remove();\n      }\n    });\n  });\n};\n\nfunction editTableCell(cell, input, cellValue) {\n  if (!input.value) {\n    cell.textContent = cellValue;\n\n    return;\n  }\n\n  cell.textContent = input.value;\n}\n"]}